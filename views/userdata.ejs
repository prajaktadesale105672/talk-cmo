<%- include('head') %>

  </head>

  <body>

    <%- include('appHeader') %>
    <div class="wrapper d-flex align-items-stretch">
      <%- include('sidebar') %>

        <!-- Page Content  -->
        <div id="content" class="">
            <div class="content_wrapper">
              <h2 class="mb-4">user data</h2>
              <div>
                <table id="customer_data" class="display table-responsive wrap" width="100%">
                  <thead>
                    <tr>
                      <th>ID</th>
                      <th>F Name</th>
                      <th>L Name</th>
                      <th>Email</th>
                      <th>City</th>
                      <th>Mobile</th>
                      <th>Created At</th>
                      <th>Action</th>
                      <!-- <th></th> -->

                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              
              </div>

            </div>
          
        </div>
    </div>

    <%- include('contentFooter') %>
    

    <script>
      $(document).ready(function () {


     



        function loadData() {

          console.log('data loading');

          var dataTable = $('#customer_data').DataTable({
            // 'processing': true,
            'serverSide': true,
            'serverMethod': 'get',
            "autoWidth": false,
            "responsive": true,
            // 'responsive': {
            //   details: true
            // },
            'ajax': {
              'url': '/api/users/filter1',
              'type': 'get',
            },
            'columnDefs': [
              // { width: 30, targets: 0 },

              // { width: 100, targets: 6 },
              { responsivePriority: 2, targets: -1 }
            ],
            'aaSorting': [],
            'columns': [
              { data: 'user_id' },
              { data: 'user_fname' },
              { data: 'user_lname' },
              { data: 'user_email' },
              { data: 'user_city' },
              { data: 'user_mobile' },
              { data: 'user_created_at' },
              {
                data: null,
                render: function (data) {
                  return '<a class="btn btn-warning btn-sm updateBtn me-2" id="' + data.user_id + '">Update</a><a class="btn btn-danger btn-sm deleteBtn" id="' + data.user_id + '">Delete</a>';
                }
              },
              // {
              //     data: null,
              //     className: "dt-center editor-edit",
              //     defaultContent: '<a class="btn btn-danger btn-sm">Delete</a>',
              //     orderable: false
              // }


            ]
          });

        }

     

        loadData()

      });
    </script>



  </body>

  </html>